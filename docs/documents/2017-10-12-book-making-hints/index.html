<!DOCTYPE html>
<html lang="ja">
    <head>
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-155017107-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-155017107-1');
        </script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
        <title>LaTeXによる小説誌制作のヒント｜文藝部LaTeX研究会</title>
        <link rel="stylesheet" href="https://qdaibungei.github.io/latex/css/reset.css" media="screen" title="no title" charset="utf-8">
        <link rel="stylesheet" href="https://qdaibungei.github.io/latex/css/style.css" media="screen" title="no title" charset="utf-8">
        <link rel="stylesheet" href="https://qdaibungei.github.io/latex/css/syntax.css" media="screen" title="no title" charset="utf-8">
        <link rel="shortcut icon" href="favicon.ico">
        <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ["\\(","\\)"]] } });</script>
        
    </head>
    <body>
        <header class="header">
            <div class="header-wrapper">
                <div class="logo">
                    <a href="https://qdaibungei.github.io/latex">文藝部L<span class="a">a</span>T<span class="e">e</span>X研究会</a>
                </div>

<nav class="global-nav">
    <ul>
        <li class="nav-item"><a href="https://qdaibungei.github.io/latex"><span class="material-icons-round">home</span> HOME</a></li>
        <li class="nav-item"><a href="https://qdaibungei.github.io/latex/about"><span class="material-icons-round">info</span> About</a></li>
        
    </ul>
</nav>
</div>
</header>
<div class="wrapper clearfix">
<main class="main">
    <div class="content">

<p class="title">
    LaTeXによる小説誌制作のヒント<br>
</p>
<h1 id="緒言">緒言</h1>
<p>以下では、小説誌制作をLaTeXでおこなう場合のヒントを述べる。</p>
<h1 id="フォントの指定">フォントの指定</h1>
<p>LaTeXのデフォルトフォントはあまり小説向きではない。そこで以下のように記述しフォントを変更する。</p>
<p>まず日本語フォントであるが、特にこだわりがないならば、とりあえず游明朝にしておくとよい。游明朝を使うには、以下のように書く（以下はuplatexを使うことを前提とした書き方である。いまどきわざわざplatexを使う理由はあるまい）。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-LaTeX" data-lang="LaTeX"><span class="c">% uplatexでA5サイズの本を作る場合のdocumentclassの書きかた
</span><span class="c"></span><span class="k">\documentclass</span><span class="na">[a5paper,papersize,uplatex]</span><span class="nb">{</span>jsbook<span class="nb">}</span>

<span class="c">% 日本語フォントを游明朝にする
</span><span class="c"></span><span class="k">\usepackage</span><span class="na">[deluxe,uplatex]</span><span class="nb">{</span>otf<span class="nb">}</span>
<span class="k">\AtBeginDvi</span><span class="nb">{</span><span class="k">\special</span><span class="nb">{</span>pdf:mapfile otf-up-yu-win10.map<span class="nb">}}</span><span class="c">% Windows 10以外の場合は適宜変更せよ
</span></code></pre></div><p>欧文フォントも変更しておこう。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-LaTeX" data-lang="LaTeX"><span class="c">% 欧文フォントの変更
</span><span class="c"></span><span class="k">\usepackage</span><span class="na">[scale=1.05]</span><span class="nb">{</span>cochineal<span class="nb">}</span><span class="c">% この欧文フォントはわりと游明朝に合う
</span><span class="c"></span><span class="k">\usepackage</span><span class="na">[scale=0.95,defaultsans]</span><span class="nb">{</span>opensans<span class="nb">}</span>
</code></pre></div><h1 id="jdashパッケージ">jdashパッケージ</h1>
<p>游明朝だと、ダッシュ<code>――</code>がつながらない。そこでjdashパッケージを導入し、これを使う。jdashパッケージについては<a href="https://qdaibungei.github.io/latex/documents/2017-02-17-jdash/">ここ</a>を参照のこと。</p>
<h1 id="hanmenパッケージの使用">hanmenパッケージの使用</h1>
<p>まず<a href="https://gist.github.com/qdaibungei/5f6986fa99fc9a7d86122a7a9417d64e">hanmenパッケージ</a>をダウンロードし、TeXファイルと同じフォルダへ入れる。</p>
<p>そしてプリアンブルに以下を記述する。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-LaTeX" data-lang="LaTeX"><span class="c">% 上のフォント設定をした後に書く
</span><span class="c"></span><span class="k">\usepackage</span><span class="na">[Q=13,H=22,W=49,L=21,ko=3.875truemm,te=6.5truemm,footskip=2.47truemm,tate]</span><span class="nb">{</span>hanmen<span class="nb">}</span>

<span class="c">% ついでに、欧文のベースラインなどを適当に変更しておこう
</span><span class="c"></span><span class="k">\tbaselineshift</span>=.3zw
<span class="k">\kanjiskip</span>=0zw plus .25zw minus .03125zw
<span class="k">\xkanjiskip</span>=.25zw plus .25zw minus .0625zw
</code></pre></div><p>これで厳密な版面の設定が可能となる。厳密というのは、たとえば表と裏とで行が揃っているということである（厳密な設定をしないと、行がズレる。紙を透かして見ると行がズレているかどうか分かる）。</p>
<p>hanmenパッケージの使い方の詳細は<a href="https://qdaibungei.github.io/latex/documents/2017-02-18-hanmen/">この記事</a>を参照のこと。</p>
<h1 id="tcyマクロ">\tcyマクロ</h1>
<p>LaTeXで縦書きをするさい、縦中横には<code>\rensuji</code>を使うよう言われる。しかし<code>\rensuji</code>だと前後のアキがおかしくなる（たとえば、行頭で<code>\rensuji</code>を使うとインデント量が狂う）。そこで<code>\tcy</code>命令を新たに作り、これを使うのがよい。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-LaTeX" data-lang="LaTeX"><span class="k">\usepackage</span><span class="nb">{</span>plext<span class="nb">}</span>
<span class="k">\makeatletter</span>
<span class="k">\chardef\nvlsty</span>@zenkakuSpace=<span class="k">\jis</span>&#34;2121<span class="k">\relax</span>
<span class="k">\newcommand</span><span class="nb">{</span><span class="k">\tcy</span><span class="nb">}</span>[1]<span class="nb">{</span><span class="c">%
</span><span class="c"></span>    <span class="k">\nvlsty</span>@zenkakuSpace<span class="k">\kern</span>-1zw<span class="k">\relax</span>
    <span class="k">\leavevmode\hbox</span> to 1zw<span class="nb">{</span><span class="c">%
</span><span class="c"></span>        <span class="k">\centering\rensuji*</span><span class="nb">{</span>#1<span class="nb">}</span><span class="k">\relax</span>
    <span class="nb">}</span><span class="k">\relax</span>
    <span class="k">\kern</span>-1zw<span class="k">\nvlsty</span>@zenkakuSpace
<span class="nb">}</span>
<span class="k">\makeatother</span>
</code></pre></div><p>以上をプリアンブルなどに書いておく。使いかたは至ってかんたんで、<code>\tcy{12}時</code>、のようにすればよい。</p>
<h1 id="禁則処理の設定">禁則処理の設定</h1>
<p>縦書きの場合、禁則処理はほどほどに抑制しておくと商業出版物の組版に似せることができる。プリアンブルなどに以下を記述する。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-LaTeX" data-lang="LaTeX"><span class="k">\makeatletter</span>
<span class="k">\def\hoge</span>@set@prebreakpenalty#1#2<span class="nb">{</span><span class="c">%
</span><span class="c"></span>    <span class="k">\@</span>tfor<span class="k">\@</span>tempa:=#1<span class="k">\do</span><span class="nb">{</span><span class="k">\expandafter\prebreakpenalty\expandafter</span>`<span class="k">\@</span>tempa =#2<span class="nb">}}</span>
<span class="k">\clubpenalty</span>=0
<span class="k">\widowpenalty</span>=0
<span class="k">\jcharwidowpenalty</span>=0
<span class="k">\displaywidowpenalty</span>=0
<span class="k">\prebreakpenalty\jis</span>&#34;2147=10000 <span class="c">% 5000 ’
</span><span class="c"></span><span class="k">\postbreakpenalty\jis</span>&#34;2148=10000 <span class="c">% 5000 “
</span><span class="c"></span><span class="k">\prebreakpenalty\jis</span>&#34;2149=10000 <span class="c">% 5000 ”
</span><span class="c"></span><span class="k">\inhibitxspcode</span>`〒=2
<span class="k">\hoge</span>@set@prebreakpenalty<span class="nb">{</span>ヽヾゝゞ々〻<span class="nb">}{</span>10000<span class="nb">}</span>
<span class="k">\hoge</span>@set@prebreakpenalty<span class="nb">{</span>ーぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ…<span class="nb">}{</span>0<span class="nb">}</span>
<span class="k">\makeatother</span>
</code></pre></div><h1 id="フッター">フッター</h1>
<p>以前出した本のフッターの設定はだいたいこんな感じである。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-LaTeX" data-lang="LaTeX"><span class="k">\usepackage</span><span class="nb">{</span>fancyhdr<span class="nb">}</span>
<span class="k">\usepackage</span><span class="na">[scale=0.9]</span><span class="nb">{</span>tgadventor<span class="nb">}</span>
<span class="k">\makeatletter</span>
<span class="k">\def\qbook</span>@chaptertitle<span class="nb">{</span>タイトル<span class="nb">}</span>
<span class="k">\def\booktitlename</span><span class="nb">{</span>ブックタイトル<span class="nb">}</span>
<span class="k">\def\qbook</span>@nombre<span class="nb">{</span><span class="c">%
</span><span class="c"></span>    <span class="nb">{</span><span class="k">\fontsize</span><span class="nb">{</span>10<span class="k">\bQ</span><span class="nb">}{</span>11trueH<span class="nb">}</span><span class="k">\romanfamily</span><span class="nb">{</span>qag<span class="nb">}</span><span class="k">\bfseries\thepage</span><span class="nb">}</span><span class="c">%
</span><span class="c"></span><span class="nb">}</span>
<span class="k">\def\qbook</span>@lhasira<span class="nb">{</span><span class="c">%
</span><span class="c"></span>    <span class="nb">{</span><span class="k">\fontsize</span><span class="nb">{</span>10<span class="k">\bQ</span><span class="nb">}{</span>11trueH<span class="nb">}</span><span class="k">\gtfamily\sffamily</span>
    <span class="k">\kern</span>1em<span class="k">\rule</span><span class="na">[-.25truemm]</span><span class="nb">{</span>0.15truemm<span class="nb">}{</span>1zw<span class="nb">}</span><span class="k">\kern</span>1em
    <span class="k">\qbook</span>@chaptertitle<span class="nb">}</span><span class="c">%
</span><span class="c"></span><span class="nb">}</span>
<span class="k">\def\qbook</span>@rhasira<span class="nb">{</span><span class="c">%
</span><span class="c"></span>    <span class="nb">{</span><span class="k">\fontsize</span><span class="nb">{</span>10<span class="k">\bQ</span><span class="nb">}{</span>11trueH<span class="nb">}</span><span class="k">\gtfamily\sffamily</span>
    <span class="k">\booktitlename</span>
    <span class="k">\kern</span>1em<span class="k">\rule</span><span class="na">[-.25truemm]</span><span class="nb">{</span>0.15truemm<span class="nb">}{</span>1zw<span class="nb">}</span><span class="k">\kern</span>1em<span class="nb">}</span><span class="c">%
</span><span class="c"></span><span class="nb">}</span>
<span class="k">\fancyfoot</span><span class="nb">{}</span>
<span class="k">\fancyfoot</span><span class="na">[LO]</span><span class="nb">{</span><span class="k">\vspace*</span><span class="nb">{</span>65<span class="k">\bQ</span><span class="nb">}</span><span class="k">\qbook</span>@nombre<span class="k">\qbook</span>@lhasira<span class="nb">}</span>
<span class="k">\fancyfoot</span><span class="na">[RE]</span><span class="nb">{</span><span class="k">\vspace*</span><span class="nb">{</span>65<span class="k">\bQ</span><span class="nb">}</span><span class="k">\qbook</span>@rhasira<span class="k">\qbook</span>@nombre<span class="nb">}</span>
<span class="k">\makeatother</span>
</code></pre></div><h1 id="結言">結言</h1>
<p>以上、ヒントを列挙した。参考にしてください。</p>

<div class="showarticleinfo">
    <span class="material-icons-round">schedule</span> 2017年10月12日<br>
    
    <span class="material-icons-round">update</span> 2021年12月5日<br>
    
    <span class="material-icons-round">local_offer</span>   <code><a href="/latex/tags/latex">#LaTeX</a></code>  <code><a href="/latex/tags/dtp">#DTP</a></code> <br>
</div>
                    </div>
                </main>
            </div>
        <footer class="footer">
            <p class="copyright">
                ©2016–2021 文藝部L<span class="a">a</span>T<span class="e">e</span>X研究会
            </p>
        </footer>
    </body>
</html>

